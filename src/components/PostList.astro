---
import PostListItem from "./PostListItem.astro";
import { type CollectionEntry } from "astro:content";
import { getRandomIcon } from "src/tool";

type Post = CollectionEntry<"blog">;

const { posts, title } = Astro.props as { posts: Post[]; title: string };
---

<section class="flex flex-col px-4 md:px-0 gap-1 md:gap-0">
  <h2 class="text-2xl font-bold text-left">{title}</h2>
  <ul class="post-list">
    {
      posts.map((post) => {
        return (
          <li class="post-card group hover:shadow-hover">
            <PostListItem
              id={post.id}
              title={post.data.title}
              icon={getRandomIcon("alien")}
              pubDate={post.data.pubDate}
              description={post.data.description}
            />
          </li>
        );
      })
    }
  </ul>
</section>
